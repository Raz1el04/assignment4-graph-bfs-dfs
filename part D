#include <iostream>
#include <vector>
#include <queue>

using namespace std;

struct Point {
    int row, col;
};

int main() {
    int n = 5, m = 6;

    vector<string> grid = {
        "S...#.",
        ".##.#.",
        ".#...#",
        ".###..",
        "...#T."
    };

    vector<vector<bool>> visited(n, vector<bool>(m, false));
    vector<vector<Point>> parent(n, vector<Point>(m, {-1, -1}));

    queue<Point> q;

    Point start, target;

    // Find S and T
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            if (grid[i][j] == 'S')
                start = {i, j};
            if (grid[i][j] == 'T')
                target = {i, j};
        }
    }

    q.push(start);
    visited[start.row][start.col] = true;

    int dr[4] = {-1, 1, 0, 0};  // up, down
    int dc[4] = {0, 0, -1, 1};  // left, right

    while (!q.empty()) {
        Point current = q.front();
        q.pop();

        if (current.row == target.row && current.col == target.col)
            break;

        for (int i = 0; i < 4; i++) {
            int nr = current.row + dr[i];
            int nc = current.col + dc[i];

            if (nr >= 0 && nr < n && nc >= 0 && nc < m) {
                if (!visited[nr][nc] && grid[nr][nc] != '#') {
                    visited[nr][nc] = true;
                    parent[nr][nc] = current;
                    q.push({nr, nc});
                }
            }
        }
    }

    // Reconstruct path
    if (!visited[target.row][target.col]) {
        cout << "No path found\n";
    } else {
        vector<Point> path;
        for (Point at = target; at.row != -1; at = parent[at.row][at.col]) {
            path.push_back(at);
        }

        cout << "Shortest path length: " << path.size() - 1 << "\n";
        cout << "Path:\n";

        for (int i = path.size() - 1; i >= 0; i--) {
            cout << "(" << path[i].row << "," << path[i].col << ") ";
        }
        cout << endl;
    }

    return 0;
}
